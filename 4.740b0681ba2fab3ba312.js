(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{jkDv:function(t,a,e){"use strict";e.r(a),e.d(a,"AdminModule",function(){return F});var i=e("ofXK"),n=e("fXoL"),o=e("H+bZ"),c=e("tyNb"),b=e("/t3+"),l=e("bTqV"),d=e("NFeN"),s=e("STbY"),r=e("XhcP"),u=e("MutI"),p=e("FKr1");let h=(()=>{class t{constructor(t,a){this.api=t,this.router=a,this.mode="side",this.menu=[{name:"Dashboard",icon:"dashboard",url:"/admin/dashboard"},{group:"Menu Group",children:[{name:"Image Gallery",icon:"images",url:"/admin/gallery"}]}]}ngOnInit(){this.checkLogin()}checkLogin(){this.api.get("bookswithauth/status").subscribe(t=>{},t=>{this.router.navigate(["/login"])})}logout(){confirm("keluar aplikasi?")&&(localStorage.removeItem("appToken"),window.location.reload())}}return t.\u0275fac=function(a){return new(a||t)(n.Nb(o.a),n.Nb(c.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-admin"]],decls:35,vars:9,consts:[["color","primary",1,"example-header"],["mat-icon-button","",3,"click"],[1,"uk-width-expand"],["appMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-button","",3,"matMenuTriggerFor"],[1,"example-container"],["mode","side","opened","",1,"sidenav-left",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],["sidenav",""],["routerLink","/admin/dashboard"],["matListIcon",""],["matLine",""],["routerLink","/admin/product"],["mode","side",1,"example-container",3,"position","fixedInViewport","fixedTopGap","fixedBottomGap"],[2,"padding","20px","background-color","#ccc"]],template:function(t,a){if(1&t){const t=n.Ub();n.Rb(0),n.Tb(1,"mat-toolbar",0),n.Tb(2,"button",1),n.ac("click",function(){return n.qc(t),n.oc(18).toggle()}),n.Tb(3,"mat-icon"),n.xc(4,"menu"),n.Sb(),n.Sb(),n.Tb(5,"span"),n.xc(6,"My App"),n.Sb(),n.Ob(7,"div",2),n.Tb(8,"mat-menu",null,3),n.Tb(10,"button",4),n.ac("click",function(){return a.logout()}),n.xc(11,"Logout"),n.Sb(),n.Sb(),n.Tb(12,"mat-icon"),n.xc(13,"account_circle"),n.Sb(),n.Tb(14,"button",5),n.xc(15,"Admin"),n.Sb(),n.Sb(),n.Tb(16,"mat-sidenav-container",6),n.Tb(17,"mat-sidenav",7,8),n.Tb(19,"mat-nav-list"),n.Tb(20,"mat-list-item",9),n.Tb(21,"mat-icon",10),n.xc(22,"dashboard"),n.Sb(),n.Tb(23,"h3",11),n.xc(24,"Dashboard"),n.Sb(),n.Sb(),n.Sb(),n.Tb(25,"mat-nav-list"),n.Tb(26,"mat-list-item",12),n.Tb(27,"mat-icon",10),n.xc(28,"table_view"),n.Sb(),n.Tb(29,"h3",11),n.xc(30,"Product"),n.Sb(),n.Sb(),n.Sb(),n.Sb(),n.Ob(31,"mat-sidenav",13,8),n.Tb(33,"mat-sidenav-content",14),n.Ob(34,"router-outlet"),n.Sb(),n.Sb(),n.Qb()}if(2&t){const t=n.oc(9);n.Cb(14),n.jc("matMenuTriggerFor",t),n.Cb(3),n.jc("position","start")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0),n.Cb(14),n.jc("position","end")("fixedInViewport",!0)("fixedTopGap",60)("fixedBottomGap",0)}},directives:[b.a,l.a,d.a,s.a,s.b,s.d,r.b,r.a,u.d,u.b,c.b,u.a,p.j,r.c,c.d],styles:[""]}),t})(),g=(()=>{class t{constructor(){}ngOnInit(){}}return t.\u0275fac=function(a){return new(a||t)},t.\u0275cmp=n.Hb({type:t,selectors:[["app-dashboard"]],decls:2,vars:0,template:function(t,a){1&t&&(n.Tb(0,"p"),n.xc(1,"dashboard works!"),n.Sb())},styles:[""]}),t})();var m=e("w55g"),f=e("0IaG");let T=(()=>{class t{constructor(t,a,e){this.api=t,this.dialogRef=a,this.dialogData=e}ngOnInit(){console.log(this.dialogData)}onFileChange(t){t.target.files.length>0&&(this.selectedFile=t.target.files[0],console.log(this.selectedFile))}uploadFile(){let t=new FormData;t.append("file",this.selectedFile),this.loadingUpload=!0,this.api.upload(t).subscribe(t=>{console.log(t)},t=>{this.loadingUpload=!1,alert("Gagal mengunggah file")})}updateProduct(t){1==t.status?(this.updateBook(t),alert("File berhasil diunggah"),this.loadingUpload=!1,this.dialogRef.close()):alert(t.message)}updateBook(t){this.api.put("book/"+this.dialogData.id,{url:t.url}).subscribe(t=>{console.log(t)})}}return t.\u0275fac=function(a){return new(a||t)(n.Nb(o.a),n.Nb(f.g),n.Nb(f.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-file-uploader"]],decls:13,vars:1,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"uk-flex","uk-flex-middle","uk-flex-center",2,"height","100px","outline","2px dashed #ccc","margin","10px",3,"click"],["type","file","id","file",2,"display","none",3,"change"],["fileInput",""],["mat-dialog-action","","align","right"],["mat-button","","mat-dialog-close","",2,"margin-right","5px"],["mat-flat-button","","color","primary",3,"click"]],template:function(t,a){if(1&t){const t=n.Ub();n.Tb(0,"h1",0),n.xc(1,"Unggah File"),n.Sb(),n.Tb(2,"div",1),n.Tb(3,"div",2),n.ac("click",function(){return n.qc(t),n.oc(7).click()}),n.Tb(4,"span"),n.xc(5),n.Sb(),n.Sb(),n.Tb(6,"input",3,4),n.ac("change",function(t){return a.onFileChange(t)}),n.Sb(),n.Sb(),n.Tb(8,"div",5),n.Tb(9,"button",6),n.xc(10,"Batal"),n.Sb(),n.Tb(11,"button",7),n.ac("click",function(){return a.uploadFile()}),n.xc(12,"Unggah dan Simpan"),n.Sb(),n.Sb()}2&t&&(n.Cb(5),n.yc(a.selectedFile?a.selectedFile.name:"Pilih File"))},directives:[f.h,f.e,l.a,f.d],styles:[""]}),t})();var S=e("kmnG"),x=e("qFsG"),k=e("3Pt+");let y=(()=>{class t{constructor(t,a,e){this.dialogRef=t,this.data=a,this.api=e}ngOnInit(){}saveData(){this.loading=!0,null==this.data.id?this.api.post("books",this.data).subscribe(t=>{this.dialogRef.close(t),this.loading=!1},t=>{this.loading=!1,alert("Tidak dapat menyimpan data. Silahkan coba lagi!!")}):this.api.put("books/"+this.data.id,this.data).subscribe(t=>{this.dialogRef.close(t),console.log(t)},t=>{this.loading=!1,alert("Tidak dapat memperbarui data. Silahkan coba lagi!!")})}}return t.\u0275fac=function(a){return new(a||t)(n.Nb(f.g),n.Nb(f.a),n.Nb(o.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-product-detail"]],decls:32,vars:8,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["appearance","outline",2,"width","100%"],["matInput","",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions","","align","end"],["mat-button","","mat-dialog-close",""],["mat-flat-button","",3,"disabled","click"]],template:function(t,a){1&t&&(n.Tb(0,"h3",0),n.xc(1," Detail Produk\n"),n.Sb(),n.Tb(2,"div",1),n.Tb(3,"mat-form-field",2),n.Tb(4,"mat-label"),n.xc(5,"Judul"),n.Sb(),n.Tb(6,"input",3),n.ac("ngModelChange",function(t){return a.data.title=t}),n.Sb(),n.Sb(),n.Tb(7,"mat-form-field",2),n.Tb(8,"mat-label"),n.xc(9,"Penulis"),n.Sb(),n.Tb(10,"input",3),n.ac("ngModelChange",function(t){return a.data.author=t}),n.Sb(),n.Sb(),n.Tb(11,"mat-form-field",2),n.Tb(12,"mat-label"),n.xc(13,"Penerbit"),n.Sb(),n.Tb(14,"input",3),n.ac("ngModelChange",function(t){return a.data.publisher=t}),n.Sb(),n.Sb(),n.Tb(15,"mat-form-field",2),n.Tb(16,"mat-label"),n.xc(17,"TAHUN TERBIT"),n.Sb(),n.Tb(18,"input",3),n.ac("ngModelChange",function(t){return a.data.year=t}),n.Sb(),n.Sb(),n.Tb(19,"mat-form-field",2),n.Tb(20,"mat-label"),n.xc(21,"ISBN"),n.Sb(),n.Tb(22,"input",3),n.ac("ngModelChange",function(t){return a.data.isbn=t}),n.Sb(),n.Sb(),n.Tb(23,"mat-form-field",2),n.Tb(24,"mat-label"),n.xc(25,"Harga"),n.Sb(),n.Tb(26,"input",4),n.ac("ngModelChange",function(t){return a.data.price=t}),n.Sb(),n.Sb(),n.Sb(),n.Tb(27,"div",5),n.Tb(28,"button",6),n.xc(29,"Batal"),n.Sb(),n.Tb(30,"button",7),n.ac("click",function(){return a.saveData()}),n.xc(31),n.Sb(),n.Sb()),2&t&&(n.Cb(6),n.jc("ngModel",a.data.title),n.Cb(4),n.jc("ngModel",a.data.author),n.Cb(4),n.jc("ngModel",a.data.publisher),n.Cb(4),n.jc("ngModel",a.data.year),n.Cb(4),n.jc("ngModel",a.data.isbn),n.Cb(4),n.jc("ngModel",a.data.price),n.Cb(4),n.jc("disabled",a.loading),n.Cb(1),n.yc(a.loading?"Menyimpan..":"Simpan"))},directives:[f.h,f.e,S.b,S.e,x.b,k.c,k.i,k.k,k.l,f.c,l.a,f.d],styles:[""]}),t})();var v=e("Xa2L"),C=e("Wp6s");function w(t,a){1&t&&(n.Tb(0,"div",2),n.Ob(1,"mat-spinner"),n.Sb())}function I(t,a){if(1&t){const t=n.Ub();n.Tb(0,"tr"),n.Ob(1,"td"),n.Tb(2,"td"),n.xc(3),n.Sb(),n.Tb(4,"td"),n.xc(5),n.Sb(),n.Tb(6,"td"),n.xc(7),n.Sb(),n.Tb(8,"td"),n.xc(9),n.Sb(),n.Tb(10,"td"),n.xc(11),n.Sb(),n.Tb(12,"td"),n.xc(13),n.Sb(),n.Tb(14,"td"),n.xc(15),n.Sb(),n.Tb(16,"td",7),n.Tb(17,"button",9),n.ac("click",function(){n.qc(t);const e=a.$implicit;return n.ec(2).uploadFile(e)}),n.xc(18,"Upload"),n.Sb(),n.Tb(19,"button",9),n.ac("click",function(){n.qc(t);const e=a.$implicit,i=a.index;return n.ec(2).productDetail(e,i)}),n.xc(20,"Edit"),n.Sb(),n.Tb(21,"button",10),n.ac("click",function(){n.qc(t);const e=a.$implicit,i=a.index;return n.ec(2).deleteProduct(e.id,i)}),n.xc(22),n.Sb(),n.Sb(),n.Sb()}if(2&t){const t=a.$implicit,e=a.index,i=n.ec(2);n.Cb(3),n.yc(e+1),n.Cb(2),n.yc(t.title),n.Cb(2),n.yc(t.author),n.Cb(2),n.yc(t.publisher),n.Cb(2),n.yc(t.year),n.Cb(2),n.yc(t.isbn),n.Cb(2),n.yc(t.price),n.Cb(6),n.jc("disabled",i.loadingDelete[e]),n.Cb(1),n.yc(i.loadingDelete[e]?"Deleting..":"Delete")}}function M(t,a){if(1&t){const t=n.Ub();n.Tb(0,"mat-card"),n.Tb(1,"mat-card-header"),n.Tb(2,"mat-card-title"),n.xc(3),n.Sb(),n.Sb(),n.Tb(4,"mat-card-content"),n.Tb(5,"div",3),n.Ob(6,"span",4),n.Tb(7,"button",5),n.ac("click",function(){return n.qc(t),n.ec().productDetail({},-1)}),n.xc(8,"Tambah Produk"),n.Sb(),n.Sb(),n.Tb(9,"table",6),n.Tb(10,"thead"),n.Ob(11,"th"),n.Tb(12,"th"),n.xc(13,"N0"),n.Sb(),n.Tb(14,"th"),n.xc(15,"JUDUL"),n.Sb(),n.Tb(16,"th"),n.xc(17,"PENULIS"),n.Sb(),n.Tb(18,"th"),n.xc(19,"PENERBIT"),n.Sb(),n.Tb(20,"th"),n.xc(21,"TAHUN TERBIT"),n.Sb(),n.Tb(22,"th"),n.xc(23,"ISBN"),n.Sb(),n.Tb(24,"th"),n.xc(25,"HARGA"),n.Sb(),n.Ob(26,"th",7),n.Sb(),n.Tb(27,"tbody"),n.wc(28,I,23,9,"tr",8),n.Sb(),n.Sb(),n.Sb(),n.Sb()}if(2&t){const t=n.ec();n.Cb(3),n.yc(t.title),n.Cb(25),n.jc("ngForOf",t.books)}}const D=[{path:"",component:h,children:[{path:"dashboard",component:g},{path:"product",component:(()=>{class t{constructor(t,a){this.dialog=t,this.api=a,this.book={},this.books=[],this.loadingDelete={}}ngOnInit(){this.title="Product",this.book={title:"Angular untuk Pemula",author:"Farid Suryanto",publisher:"Sunhouse Digital",year:"2020",isbn:"8298377474",price:"70000"},this.getBooks()}getBooks(){this.loading=!0,this.api.get("bookswithauth").subscribe(t=>{this.books=t,this.loading=!1},t=>{this.loading=!1})}productDetail(t,a){this.dialog.open(y,{width:"400px",data:t}).afterClosed().subscribe(e=>{e&&(-1==a?this.books.push(e):this.books[a]=t)})}deleteProduct(t,a){confirm("Delete Item?")&&(this.loadingDelete[a]=!0,this.api.delete("books/"+t).subscribe(t=>{this.books.splice(a,1),this.loadingDelete[a]=!1},t=>{this.loadingDelete[a]=!1,alert("Tidak dapat menghapus data")}))}uploadFile(t){this.dialog.open(T,{width:"400px",data:t}).afterClosed().subscribe(t=>{})}}return t.\u0275fac=function(a){return new(a||t)(n.Nb(f.b),n.Nb(o.a))},t.\u0275cmp=n.Hb({type:t,selectors:[["app-product"]],decls:2,vars:2,consts:[["style","height: 300px","class","uk-flex uk-flex-center uk-flex-middle",4,"ngIf"],[4,"ngIf"],[1,"uk-flex","uk-flex-center","uk-flex-middle",2,"height","300px"],[1,"uk-flex"],[1,"uk-width-expand"],["mat-flat-button","","color","primary",3,"click"],[1,"uk-table","uk-table-middle","uk-table-divider"],["align","right"],[4,"ngFor","ngForOf"],["mat-button","","color","primary",3,"click"],["mat-button","","color","warn",3,"disabled","click"]],template:function(t,a){1&t&&(n.wc(0,w,2,0,"div",0),n.wc(1,M,29,2,"mat-card",1)),2&t&&(n.jc("ngIf",a.loading),n.Cb(1),n.jc("ngIf",!a.loading))},directives:[i.k,v.b,C.a,C.c,C.e,C.b,l.a,i.j],styles:[""]}),t})()},{path:"",pathMatch:"full",redirectTo:"/admin/dashboard"}]}];let F=(()=>{class t{}return t.\u0275fac=function(a){return new(a||t)},t.\u0275mod=n.Lb({type:t}),t.\u0275inj=n.Kb({imports:[[i.c,c.c.forChild(D),m.a,k.e]]}),t})()}}]);